---
title: Java中枚举的实现形式分析
date: 2017-02-05 23:02:31
tags:
- java
categories:
- experience
---

起因是突然想起的：
> 是否，男女之类的这种枚举怎么处理比较合理，是在java中写常量，还是在数据库中建一个单独的枚举表

我在思考关于这种枚举值在程序中怎样实现更为合理，现在的公司项目中有一个常量类，也有一个单独的枚举表，那还有什么其他方式吗？如何使用更加合理？

带着疑问向前辈们请教，也逐渐明朗。

> 1、使用数据字典，编码的时候麻烦，每次查询需要关联代码表，后期维护简单，使用数据字典的话有更新动作，直接在更新动作里更新缓存就可以了

> 2、使用枚举类型，开发简单，维护的时候需要停机

一般来说都是围绕这两种情况展开来处理的。

> 如果项目最后移交至运营团队，项目基本处于稳定运行状态，没有开发人员的跟进，代码枚举会带来很多麻烦

> 如果是长期开发跟进迭代的产品，二者均可

但是分析归分析，实际应用还是要根据项目具体的组织目标和组织环境来决定，不要掉书袋。

拓展知识：
通常定义常量方法和枚举定义常量方法的区别：
```java
public static final int ON = 1;
public static final int OFF = 0;
```
这种常见的使用常量定义枚举存在着很多隐患：
1. 不是类型安全的，必须确保是int
2. 还要确定它的范围是0和1
3. 很多时候调试或打印出来的时候，只能看到0和1，不方便调试

以上这种形式完全可以使用枚举类型来替换
```java
public enum Sex {
    MAN(1), WOMAN(0);
    
    private int nCode;
    
    Sex(int nCode) {
        this.nCode = nCode;
    }

    @Override
    public String toString() {
        return String.valueOf(this.nCode);
    }
}
```